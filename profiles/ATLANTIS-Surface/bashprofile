#!/bin/sh
# --------------------------------------------
# Actions / exports when bash gets loaded
# --------------------------------------------

export EDITOR=nvim
export DOTNET_CLI_TELEMETRY_OPTOUT=1 # Opt out of dotnet telemtry
alias spotify="/usr/bin/spotify --force-device-scale-factor=2.0"
(wal -R -e -q -n &)                    # Reload pywal theme
if test -f ~/.ssh/id_rsa
then
    eval $(keychain --eval --quiet id_rsa)                                  # Initializes the keychain
fi

# Setup the gpg agent
export GPG_TTY="$(tty)"
unset SSH_AGENT_PID
export SSH_AUTH_SOCK=$(gpgconf --list-dirs agent-ssh-socket)
gpgconf --launch gpg-agent
echo UPDATESTARTUPTTY | gpg-connect-agent -q > /dev/null 2>&1

umask 017

# Turn off screensaver
export DISPLAY=:0.0
xset s off
xset s noblank
