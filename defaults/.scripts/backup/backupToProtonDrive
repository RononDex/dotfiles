#!/bin/bash

UploadToProtonDrive(){
		# $1: Path to output tar.gz file
		# $2: Remote folder
		# $3: rclone remote name
		# $4: target recipient for GPG encryption
		filename=$(basename $1)
		rclone mkdir $3:$2
		rclone copy -P $1 $3:$2/
}

read -s -p "Password for rclone configuration store: " rclone_password
export RCLONE_CONFIG_PASS=$rclone_password

UploadToProtonDrive tarBackups/Backup.tar.gz.gpg ServerBackups ProtonDriveBackup 
UploadToProtonDrive tarBackups/Documents.tar.gz.gpg ServerBackups ProtonDriveBackup 
UploadToProtonDrive tarBackups/Astrophotography.tar.gz.gpg ServerBackups ProtonDriveBackup 
UploadToProtonDrive tarBackups/ConfigStoreAstroBot.tar.gz.gpg ServerBackups ProtonDriveBackup 
UploadToProtonDrive tarBackups/containers.tar.gz.gpg ServerBackups ProtonDriveBackup 
UploadToProtonDrive tarBackups/docker-data.tar.gz.gpg ServerBackups ProtonDriveBackup 
